<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Management System</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/styles.css" rel="stylesheet">
</head>
<body>
    <div class="container py-4">
        <header class="header d-flex justify-content-between align-items-center mb-4" style="min-height: 10vh;">
            <h4 class="mb-0">Question Management System</h4>
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addQuestionModal">
                <i class="bi bi-plus-lg me-1"></i> Add Question
            </button>
        </header>

        <!-- Search Form -->
        <div class="card search-card mb-4">
            <div class="card-body">
                <form id="searchForm" class="row g-3" onsubmit="event.preventDefault(); searchQuestions();">
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="searchTopic" placeholder="Search by topic...">
                    </div>
                    <div class="col-md-3">
                        <select class="form-select" id="searchType">
                            <option value="">All Types</option>
                            <option value="MCQ">Multiple Choice</option>
                            <option value="TRUE_FALSE">True/False</option>
                            <option value="ESSAY">Essay</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <select class="form-select" id="searchDifficulty">
                            <option value="">All Difficulties</option>
                            <option value="EASY">Easy</option>
                            <option value="MEDIUM">Medium</option>
                            <option value="HARD">Hard</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="bi bi-search me-1"></i> Search
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Questions List -->
        <div class="card">
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th style="width: 30%">Question</th>
                                <th style="width: 15%">Text</th>
                                <th style="width: 10%">Difficulty</th>
                                <th style="width: 15%">Type</th>

                                <th style="width: 10%">Topic</th>
                                <th style="width: 15%">Marks</th>
                                <th style="width: 10%" class="text-end">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="questionsList">
                            <!-- Questions will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Add Question Modal -->
        <div class="modal fade" id="addQuestionModal" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Add New Question</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <form id="questionForm">
                            <div class="mb-3">
                                <label class="form-label">Question Type</label>
                                <select class="form-select" id="questionType" required>
                                    <option value="">Select type...</option>
                                    <option value="MCQ">Multiple Choice</option>
                                    <option value="TRUE_FALSE">True/False</option>
                                    <option value="ESSAY">Essay</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Question Text</label>
                                <textarea class="form-control" id="questionText" rows="3" required></textarea>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-4">
                                    <label class="form-label">Topic</label>
                                    <input type="text" class="form-control" id="topic" required>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Difficulty</label>
                                    <select class="form-select" id="difficulty" required>
                                        <option value="">Select difficulty...</option>
                                        <option value="EASY">Easy</option>
                                        <option value="MEDIUM">Medium</option>
                                        <option value="HARD">Hard</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Marks</label>
                                    <input type="number" class="form-control" id="marks" min="1" required>
                                </div>
                            </div>
                            <div id="optionsContainer">
                                <!-- Dynamic options will be added here -->
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" onclick="submitQuestion()">Save Question</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Edit Question Modal -->
        <div class="modal fade" id="editQuestionModal" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Edit Question</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <form id="editQuestionForm">
                            <input type="hidden" id="editQuestionId">
                            <input type="hidden" id="editQuestionType">
                            <div class="mb-3">
                                <label class="form-label">Question Text</label>
                                <textarea class="form-control" id="editQuestionText" rows="3" required></textarea>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-4">
                                    <label class="form-label">Topic</label>
                                    <input type="text" class="form-control" id="editTopic" required>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Difficulty</label>
                                    <select class="form-select" id="editDifficulty" required>
                                        <option value="EASY">Easy</option>
                                        <option value="MEDIUM">Medium</option>
                                        <option value="HARD">Hard</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Marks</label>
                                    <input type="number" class="form-control" id="editMarks" min="1" required>
                                </div>
                            </div>
                            <div id="editOptionsContainer">
                                <!-- Dynamic options will be added here -->
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" onclick="updateQuestion()">Update Question</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bootstrap Bundle JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Custom JS -->
        <script src="js/main.js"></script>
    </div>
</body>
</html>
